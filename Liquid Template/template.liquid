<!DOCTYPE html>
<html>
    {%assign pageTitleDowncased = Page.Action | downcase -%}

    {% if pageTitleDowncased == 'index' -%}
        {%assign pageTitleDowncased = Page.Controller | downcase -%}
    {% endif %}

    <head>
        <!-- Google Tag Manager -->
                                                            <!-- <temp data-prettydiff-ignore><temp data-prettydiff-ignore><temp data-prettydiff-ignore><temp data-prettydiff-ignore><temp data-prettydiff-ignore><temp data-prettydiff-ignore><temp data-prettydiff-ignore><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','{{campaign | field_by_api_name: 'facebookpixelid' | default: 'GTM-5JJSW9S'}}');</script></temp></temp></temp></temp></temp></temp></temp> -->
                                                            <!-- End Google Tag Manager -->
                                                        
                                                            <!-- Facebook Pixel Code -->
        <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '{{campaign | field_by_api_name: 'facebookpixelid' | default: '162582160996421'}}');
      fbq('track', 'PageView');
    </script>
        <noscript><img height="1" src="https://www.facebook.com/tr?id={{campaign | field_by_api_name: 'facebookpixelid' | default: '162582160996421'}}&ev=PageView&noscript=1" style="display:none" width="1"/></noscript>
        <!-- End Facebook Pixel Code -->

        <title>{{campaign.Name}}
            {% if pageTitleDowncased != 'home'%}
                -
                {{ pageTitleDowncased }}
            {% endif %}
        </title>

        <meta name="description" content="{{ campaign | term_by_name: 'Meta_Description' | escape }}"/>
        <meta name="keywords" content="{{ campaign | term_by_name: 'Meta_Keywords' | escape}}"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <meta content="https:{{ Campaign | first_image: 'SocialShare', 1200, 630 }}" property="og:image"/>

        <link rel="shortcut icon" type="image/png" href="{{ Campaign | first_image: 'StandaloneOrg', 32, 32 }}"/>
        <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,600,800&display=swap" rel="stylesheet">
        <link href="https://use.typekit.net/dov3vrb.css" rel="stylesheet">

        <div class = "row" id = "centeredRow">
        {{ 'rbInclude' | header }}
        </div>

        <script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script>
$.noConflict();
// Code that uses other library's $ can follow here.
</script>
  <script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    crossorigin="anonymous"
  ></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>

  <link
    href="https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600;700;800&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
    crossorigin="anonymous"
  />

    {{ 'variables, style' | less }}

  </head>

  {% if pageTitleDowncased == 'donate' %}<body class="{{ Page.BodyClasses }} body-donate">{% endif %}
  {% if pageTitleDowncased == 'donors' %}<body class="{{ Page.BodyClasses }} body-donors">{% endif %}
  {% if pageTitleDowncased == 'home' %}<body class="{{ Page.BodyClasses }}">{% endif %}
  <body class="{{ Page.BodyClasses }}" style="background-image: url('{{ Campaign | first_image: 'HomePage', 1500, 2706 }}');">

    <!-- Google Tag Manager (noscript) -->
    <!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id={campaign | field_by_api_name: 'facebookpixelid' | default: 'GTM-5JJSW9S'}}" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
    <!-- End Google Tag Manager (noscript) -->

    {%Widget hero%}

    <div class="entry-content">
      <canvas id="my-canvas"></canvas>
      {{ Content }}

    </div>

   
<footer style="background-color: #dde3ef; width: 100%; padding-top: 80px;">
  <div class="wrapper" style="text-align: center">
    <div class = "row" id = "centeredRow">
  
    {% if pageTitleDowncased != 'donate' %}
    <a class="footer-button button" href="{{ campaign.url }}/donate">
      <button
        class="btn"
        type="input"
        style="
          border-style: none;
          width: 280px;
          height: 60px;
          margin-bottom: 80px;
          font-size: 20px;
        "
      >
        DONATE NOW
      </button></a
    >
    </div>
    

 
    {% endif %} 

</div>
<div class = "row" id = "centeredRow">
  {{ 'rbInclude' | footer }}
  <img src="https://charity.studio/wp-content/uploads/2019/09/CS_Matching_logoArtboard-15.png" style="margin-left: 40px; max-width: 250px;" />
  </div>
</footer>





  

    {% assign campaignGoal = campaign.Goal_Amount -%}
    {% assign campaignRaised = campaign.Amount_Raised -%}


    {% assign donor_campaigns = campaign | donor_campaigns_all -%}  <!--  notice the "ALL" here -->
    {% assign active_donor_campaigns = campaign | donor_campaigns -%}  <!-- notice there is NO "ALL" here -->

    {% assign hasAnyMatchers = false -%}
    {% assign hasActiveMatchers = false -%}
    {% assign hasActiveMatcherNow = false -%}
    {% assign hasMatchersBonus = false -%}
    {% assign isInBonusRound = false -%}

    <script>
      (function(){
        var matcherList = [];
        {% for donor_campaign in donor_campaigns -%}
          {% assign hasAnyMatchers = true -%}

          {% if donor_campaign.is_active -%}
            {% assign thisActiveMatcherNow = false -%}

            {% for active_donor_campaign in active_donor_campaigns -%}
              {% if donor_campaign.Id == active_donor_campaign.Id -%}
                {% assign hasActiveMatcherNow = true -%}
    						{% assign thisActiveMatcherNow = true -%}
    					{% endif %}
    				{% endfor %}

            matcherList.push({
              name: '{{donor_campaign.Donor_Name_Override}}',
              description: '{{donor_campaign.Description}}',
              endDate: '{{donor_campaign.Limit_To_Before}}',
              startDate: '{{donor_campaign.Limit_To_On_Or_After}}',
              endPercent: {{donor_campaign.Limit_To_Before_Percent_Of_Goal_Reached}},
              startPercent: {{donor_campaign.Limit_To_On_Or_After_Percent_Of_Goal_Reached}},
              active: {{thisActiveMatcherNow}},
              id: {{donor_campaign.Id}}
            });

            {% assign thisIsMatchersBonus = false -%}

            {% if donor_campaign.Limit_To_On_Or_After_Percent_Of_Goal_Reached == 1 -%}
              {% assign hasMatchersBonus = true -%}
    					{% assign thisIsMatchersBonus = true -%}
    				{% endif %}

            {% assign hasActiveMatchers = true -%}
    				{% if thisIsMatchersBonus and thisActiveMatcherNow -%}
              {% assign isInBonusRound = true -%}
    				{% endif %}
          {% endif %}
        {% endfor %}

        window.eventDateTime = '{{ campaign.Event_Date | date: '%Y-%m-%dT%H:%M:%SZ'}}';
        window.amountRaised = parseInt('{{ campaign.Amount_Raised | divided_by: campaign.Goal_Amount | times: 100 | round  }}') + 8 ? parseInt('{{ campaign.Amount_Raised | divided_by: campaign.Goal_Amount | times: 100 | round  }}') + 8 : 8;
        window.totalAmountRaised = {{campaign.Amount_Raised}};
        window.campaignGoal = {{campaign.Goal_Amount}};
        window.hasActiveMatchers = {{hasActiveMatcherNow}};
        window.isInBonusRound = {{isInBonusRound}};
        window.matcherList = matcherList;
        window.confetti = {{campaign | field_by_api_name: 'Confetti' | default: 'false'}};
        window.donorGoal = {{campaign | field_by_api_name: 'showdonorgoal' | default: '300'}};
        window.campaignDuration = {{campaign | field_by_api_name: 'showcampaignduration' | default: '36'}};
      })();
    </script>
    <script src="https://charity.studio/wp-content/themes/twentynineteen-child/js/confetti.js"></script>

    {{ 'campaign' | js }}

  </body>
</html> 
   
 
